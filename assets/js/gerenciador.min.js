$(document).tooltip({selector:'[data-toggle="tooltip"]'}),$(document).on("focus",'[data-toggle="maskMoney"]',function(){$(this).maskMoney({thousands:".",decimal:",",allowZero:!0})}),$(document).on("focus",'[data-toggle="datepicker"]',function(){$(this).datepicker({language:"pt-BR",format:"dd/mm/yyyy",todayBtn:!0,todayHighlight:!0,autoclose:!0})}),$("#loading2").modal({keyboard:!1,backdrop:"static",show:!1}),$(window).on("beforeunload",function(){$("#loading2").modal("show")}),$("div.collapse").on("show.bs.collapse hidden.bs.collapse",function(e){$("a[href=#"+e.currentTarget.id+"]").find("span.glyphicon").toggleClass("glyphicon-circle-arrow-down").toggleClass("glyphicon-circle-arrow-up")}),messagesModal=function(e){$.isEmptyObject(e)||(e.error?$('<div class="modal" aria-hidden="true"><div class="modal-dialog"><div class="modal-content panel-danger"><div class="modal-header panel-heading"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title" id="exampleModalLabel">&nbsp;Alerta</h4></div><div class="modal-body">'+($.isEmptyObject(e.error)?e.error.join("<br>"):e.error)+"</div></div></div></div>").on("shown.bs.modal",function(){var e=$(this);e.find("button:first").focus(),setTimeout(function(){e.modal("hide")},3e3)}).on("hidden.bs.modal",function(){$(this).remove(),e.link&&(location.href=e.link),e.reload===!0&&location.reload()}).modal("show"):e.success?$('<div class="modal fade" aria-hidden="true"><div class="modal-dialog"><div class="modal-content panel-success"><div class="modal-header panel-heading"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title" id="exampleModalLabel">&nbsp;Alerta</h4></div><div class="modal-body">'+($.isEmptyObject(e.success)?e.success.join("<br>"):e.success)+"</div></div></div></div>").on("shown.bs.modal",function(){var e=$(this);e.find("button:first").focus(),setTimeout(function(){e.modal("hide")},3e3)}).on("hidden.bs.modal",function(a){$(this).remove(),e.link&&(location.href=e.link),e.reload===!0&&location.reload()}).modal("show"):e.link?location.href=e.link:e.reload===!0&&location.reload())},$("form:not(.noAjax)").submit(function(e){e.preventDefault();var a=$(this);a.find("[type=submit]").attr("data-loading-text","Aguarde...").button("loading"),$.post(a.attr("action"),a.serialize(),function(e){messagesModal(e)},"json").always(function(){a.find("[type=submit]").button("reset")}).fail(function(){alert("Tente mais tarde.")})}),$("a.Ajax, button.Ajax").on("click",function(e){e.preventDefault();var a=$(this);$("#loading2").modal("show"),a.prop("disabled",!0),$.get(a.attr("href"),function(e){messagesModal(e)},"json").always(function(){a.prop("disabled",!1),$("#loading2").modal("hide")}).fail(function(){alert("Tente mais tarde.")})}),$("a.AjaxConfirm, button.AjaxConfirm").on("click",function(e){e.preventDefault();var a=$(this);bootbox.confirm("<b><br>Deseja realmente executar a ação?<br><br></b>",function(e){e&&(a.prop("disabled",!0),$.get(a.attr("href"),function(e){messagesModal(e)},"json").always(function(){a.prop("disabled",!1)}).fail(function(){alert("Tente mais tarde.")}))})}),$(".excluir").click(function(e){e.preventDefault();var a=$(this),t=$("table input[name=page]").val();if(confirm("Deseja remover o(s) item(s) selecionado(s)?")){a.attr("data-loading-text","Aguarde...").button("loading");var o=$("table input[name=selecao]:checkbox:checked").map(function(){return $(this).val()}).get();$.post(location.href,{action:"excluir",ids:o,page:t},function(e){messagesModal(e),$("table input[name=selecao]:checkbox:checked").parent().parent().fadeOut(function(){$(this).remove()})},"json").always(function(){a.button("reset")}).fail(function(){alert("Tente mais tarde.")})}}),$(document).on("change","#check_all",function(){$("input[name=selecao]:checkbox").prop("checked",$(this).is(":checked"))}),$(".imprimir").click(function(e){e.preventDefault();var a=$(this);$.post(location.href,{action:"imprimir"},function(e){e.error?$("#alerta").html('<div class="alert alert-danger fade in" role="alert">'+e.error.join("<br>")+"</div>"):e.success?$("#alerta").html('<div class="alert alert-success fade in" role="alert"><a class="btn btn-primary view-pdf" target="_blank" href="'+e.link+'">Relatório Clientes</a></div>'):e.link&&(location.href=e.link),a.button("reset")}).fail(function(){alert("Tente mais tarde.")})}),resumoTexto=function(e,a){return e.length>a?void 0:e},NumeroInteiros=function(e){$("input[name='"+e+"']").bind("keyup blur focus",function(e){e.preventDefault();var a=/[^0-9]/g;$(this).val().match(a)&&$(this).val($(this).val().replace(a,""))})},formatted_date=function(e){var a=e.split("/");return a[2]+"-"+a[1]+"-"+a[0]},alerta_danger=function(e){$("#alerta").html('<div class="alert alert-danger fade in" role="alert">'+e+"</div>")},MaskMoneyToFloat=function(e){return e.replace(/\./g,"").replace(",",".")},FloatToMaskMoney=function(e){return e.replace(".",",").replace(/\B(?=(\d{3})+(?!\d))/g,".")},keyupblurfocus_despesas=function(e){$("input[name="+e+"]").bind(" keyup blur focus ",function(e){e.preventDefault(),somaDespesas(),labelAvista(),replaceParcelas()})},DividirValorFloat=function(e,a){var t=0,o=0,n=[];if(e%a!==0){if(t=e/a,.01>t)return messagesModal({error:"Não é divisivel"}),!1;for(t=(e/a).toFixed(2),o=e-(a-1)*t,n[0]=o.toFixed(2),i=1;i<a;i++)n[i]=t;return n.reverse()}for(t=(e/a).toFixed(2),i=0;i<a;i++)n[i]=t;return n.reverse()};